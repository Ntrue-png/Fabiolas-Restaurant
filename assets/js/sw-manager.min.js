    // Gestione Service Worker
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', async () => {
            try {
                // Unregistra eventuali service worker esistenti
                const registrations = await navigator.serviceWorker.getRegistrations();
                for (let registration of registrations) {
                    await registration.unregister();
                }
                
                // Registra il nuovo service worker
                const registration = await navigator.serviceWorker.register('/service-worker.js');
                console.log('ServiceWorker registrato con successo:', registration.scope);
            } catch (error) {
                console.error('Errore durante la registrazione del ServiceWorker:', error);
            }
        });
    }